---
import { getLangFromUrl, useTranslation } from "@/i18n";
import Button_Networks from "@/components/Button_Networks.astro";
import Button_MoreInformation from "@/components/Button_MoreInformation.astro";

const lang = getLangFromUrl(Astro.url);
const i18n = await useTranslation(lang);
---

<main id="home" class="relative flex flex-col p-6">
  <!-- BACKGROUND (igual que antes) -->
  <div class="-z-10 absolute inset-0 w-full h-full overflow-hidden">
    <video
      id="bg-video"
      class="border-0 w-full h-full object-cover pointer-events-none opacity-75"
      src="/video/bg4.mp4"
      poster="/img/bg-fallback.jpg"
      autoplay
      muted
      loop
      playsinline></video>
  </div>

  <!-- CONTENT -->
  <div
    id="content"
    class="w-full max-w-6xl mx-auto min-h-screen h-full flex-1 flex flex-col items-center justify-center text-white gap-12 lg:gap-16"
  >
    <div data-aos="zoom-in" data-aos-duration="1800">
      <img
        loading="lazy"
        src="/logo/logo.webp"
        alt="Logo"
        class="w-50 md:w-80 lg:w-96 h-auto object-contain"
      />
    </div>

    <p
      data-aos="fade-down"
      data-aos-duration="1500"
      data-aos-delay="800"
      class="text-2xl lg:text-3xl text-center font-semibold tracking-wider w-full lg:max-w-2/3"
    >
      {i18n.HERO.TEXT_1}
    </p>
  </div>

  <div
    class="bottom-0 left-0 -z-10 absolute bg-gradient-to-t from-[var(--color-bg-1)] to-transparent w-full h-1/6"
  >
  </div>
</main>
<div class="w-full bg-[var(--color-bg-1)] py-12 px-6">
  <div class="flex flex-col max-w-6xl mx-auto">
    <div
      class="flex flex-col text-white mx-auto lg:flex-row gap-10 mb-12 lg:gap-16"
    >
      <div
        data-aos="fade-up"
        data-aos-duration="1000"
        class="relative glass-effect border border-white/25 p-5 pb-4 rounded-md"
      >
        <div
          class="block -bottom-0.5 left-1/2 -translate-x-1/2 absolute bg-[var(--color-title)] rounded-md w-2/3 h-1 pointer-events-none"
        >
        </div>
        <p class="text-sm lg:text-lg text-center lg:text-left">
          {i18n.HERO.TEXT_3}
        </p>
      </div>
      <div
        data-aos="fade-up"
        data-aos-duration="1000"
        class="relative glass-effect border border-white/25 p-5 pb-4 rounded-md"
      >
        <div
          class="block -bottom-0.5 left-1/2 -translate-x-1/2 absolute bg-[var(--color-title)] rounded-md w-2/3 h-1 pointer-events-none"
        >
        </div>
        <p class="text-sm lg:text-lg text-center lg:text-left">
          {i18n.HERO.TEXT_4}
        </p>
      </div>
    </div>
    <!-- FOOTER HERO -->
    <div
      class="items-end lg:items-center flex flex-col lg:flex-row justify-between mx-auto gap-6 w-full text-white"
    >
      <div
        data-aos="fade-up"
        data-aos-duration="1000"
        class="flex flex-col justify-center items-center gap-6 w-fit mx-auto lg:mx-0"
      >
        <a
          href={`/${lang}/certifications`}
          class="group text-lg relative w-fit flex flex-row justify-center z-10 items-center gap-4 p-3 hover:scale-105 pl-4 text-white border-2 border-white/25 rounded-full overflow-hidden font-bold transition-all duration-500"
        >
          {i18n.HERO.FOOTER_LEFT_BUTTON}
          <span
            class="bg-gradient-to-r from-white to-[var(--color-blue)] to-white px-4 py-1 rounded-full transition-all duration-1000"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="fill-[var(--color-blue)] group-hover:animate-bounce h-5.5 rotate-90 transition-all duration-300 pointer-events-none"
              viewBox="0 0 16 16"
            >
              <path
                fill-rule="evenodd"
                d="M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5"
              ></path>
            </svg>
            <span
              class="top-0 left-0 -z-10 absolute bg-gradient-to-l from-[var(--color-title)] to-[var(--color-blue)] w-full h-full"
            ></span>
          </span>
        </a>
        <style>
          a {
            transition: all 0.3s ease;
          }
          a:hover {
            box-shadow: 0 0 15px 2px rgba(109, 179, 205, 0.4);
            filter: brightness(1.3);
          }
          a::after {
            content: "";
            position: absolute;
            top: 0;
            left: -150%;
            width: 150%;
            height: 100%;
            background: linear-gradient(
              90deg,
              transparent,
              rgba(255, 255, 255, 0.8),
              transparent
            );
            transition: left 0.5s;
            animation: shine 8s infinite;
          }
          @keyframes shine {
            0% {
              transform: translateX(-100%);
            }
            10%,
            100% {
              transform: translateX(200%);
            }
          }
        </style>
      </div>

      <div
        data-aos="fade-up"
        data-aos-duration="1000"
        class="flex justify-center items-center mx-auto"
      >
        <Button_MoreInformation i18n={i18n} lang={lang} />
      </div>

      <div
        data-aos="fade-up"
        data-aos-duration="1000"
        class="flex flex-row justify-end items-center gap-6 mx-auto lg:mx-0"
      >
        <p class="font-light text-sm">{i18n.HERO.FOOTER_RIGHT_TEXT}</p>
        <Button_Networks i18n={i18n} />
      </div>
    </div>
    <footer class="lg:text-left text-center max-w-7xl mt-12 mx-0">
      <p class="text-white/80 text-sm">
        Copyright Â© GLACI {new Date().getFullYear()}
      </p>
    </footer>
  </div>
</div>
